<?xml version="1.0" encoding="UTF-8"?>

<openerp>
    <data>
        <!--  Record scan queue view -->
        <record model="ir.ui.view" id="view_record_scan_queue_last_tree">
             <field name="name">scan.queue.last.tree</field>
            <field name="model">scan.queue</field>
            <field name="type">tree</field>
            <field name="inherit_id" ref="auto_attach.view_scan_queue_tree"/>
            <field name="arch" type="xml">
                 <field name="resolution" position="after">
                    <field name="no_attempts" />
                </field>
            </field>
        </record> -->

        <record model="ir.ui.view" id="view_scan_queue_last_document_form">
            <field name="name">scan.queue.last.document.form</field>
            <field name="model">scan.queue</field>
            <field name="type">form</field>
            <field name="inherit_id" ref="auto_attach.view_scan_queue_form"/>
            <field name="arch" type="xml">
                    <field name="name" position="after">
                        <field name="no_attempts"/>
                    </field>
            </field>
        </record>

        <!--  Record Document -->
        <record model="ir.ui.view" id="view_document_tree">
            <field name="name">record.document.tree</field>
            <field name="model">record.document</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="Documents in queue">
                    <field name="report_id" />
                    <field name="model"/>
		    <field name="date"/>
                    <field name="required" />
                    <field name="pages" />
                    <field name="required_pages" />
                    <field name="valid" />
                    <field name="state" />
		    <field name="name" />
                    <field name="expedient_id"/>
                </tree>
            </field>
        </record>

        <record model="ir.ui.view" id="view_document_form">
            <field name="name">record.document.form</field>
            <field name="model">record.document</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Documents">
                    <group col="8" colspan="4">
		      <field name="name" select="1" />
                      <field name="valid" select="1"/>
                    </group>
                    <newline/>
                    <field name="pdf"/>
                    <group col="6" colspan="4">
                        <field name="pages" />
                        <field name="required_pages" />
                        <field name="required" />
                        <field name="report_id"/>
                        <field name="model" readonly="1"/>
			<field name="date" readonly="1"/>
                        <field name="expedient_id"/>
                    </group>
                    <separator string="Pages" colspan="4"/>
                    <field name="document_page_ids" colspan="4" nolabel="1"/>
                    <group colspan="4" col="5">
                        <field name="state" select="1" />
                        <button name="confirm" states="draft" string="Confirm" />
                        <button name="cancel" states="draft,done" string="Cancel" />
                        <button name="draft" states="cancel" string="Draft" />
                    </group>
                </form>
            </field>
        </record>
         <record id="record_document_search" model="ir.ui.view">
            <field name="name">record.document.search</field>
            <field name="model">record.document</field>
            <field name="type">search</field>
            <field name="arch" type="xml">
                <search string="Documents">
                    <group col="8" colspan="4">
                        <field name="name" select="1"/>
                        <field name="date"/>
                        <field name="expedient_id"/>
                    </group>
                    <newline/>
                    <group  expand='0' string='Group by...' groups="base.group_extended">
                       <filter string='State' icon="terp-stock_symbol-selection" domain="[]" context="{'group_by' : 'state'}" />
                       <separator orientation="vertical"/>
                       <filter string='Expedient' icon="terp-stock_symbol-selection" domain="[]" context="{'group_by' : 'expedient_id'}" />
                    </group>
                </search>
            </field>
        </record>


        <record model="ir.actions.act_window" id="view_record_document_action">
            <field name="name">Documents</field>
            <field name="res_model">record.document</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="domain"></field>
        </record>

        
        <menuitem id="menu_documents" name="Documents" parent="document_management.menu_base_document_management" sequence="1"/>
        <menuitem action="view_record_document_action" id="record_document_menu_id" parent="menu_documents" sequence="1"/>


        <!-- page document  -->
        <record model="ir.ui.view" id="view_document_page_tree">
            <field name="name">record.document.page.tree</field>
            <field name="model">record.document.page</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="Document Page">
                    <field name="name" />
                    <field name="sequence" />
                    <field name="attachment_id" />
                    <field name="scanned_document_id" />
                    <field name="state"/>
                </tree>
            </field>
        </record>

        <record model="ir.ui.view" id="view_document_page_form">
            <field name="name">record.document.page.form</field>
            <field name="model">record.document.page</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Documents in queue">
                    <field name="name" select="1" />
                    <field name="sequence" />
                    <field name="attachment_id" />
                    <field name="scanned_document_id" />
                    <field name="state"/>
                </form>
            </field>
        </record>
    </data>
</openerp>
